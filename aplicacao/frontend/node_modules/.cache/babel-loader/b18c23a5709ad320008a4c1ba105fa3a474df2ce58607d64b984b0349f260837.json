{"ast":null,"code":"import { useAutorStore } from \"../../store/autorStore\";\nimport { useOrientadorStore } from \"../../store/orientadorStore\";\nimport { useObraStore } from \"../../store/obraStore\";\nimport { useCursoStore } from \"../../store/cursoStore\";\nimport { onMounted, ref } from \"vue\";\nexport default {\n  setup() {\n    const autorStore = useAutorStore();\n    const orientadorStore = useOrientadorStore();\n    const obraStore = useObraStore();\n    const cursoStore = useCursoStore();\n    const autores = ref([]);\n    const orientadores = ref([]);\n    const tiposDeObra = ref([]);\n    const cursos = ref([]);\n    const obras = ref([]);\n    const dropdownOptions = ref([[],\n    // Autor\n    [],\n    // Título\n    [],\n    // Curso\n    [],\n    // Ano\n    [],\n    // Orientador\n    [] // Tipo de Obra\n    ]);\n    const allOptions = ref([[],\n    // Autor\n    [],\n    // Título\n    [],\n    // Curso\n    [],\n    // Ano\n    [],\n    // Orientador\n    [] // Tipo de Obra\n    ]);\n    const buttons = [\"Autor\", \"Título\", \"Áreas de Conhecimento - Cursos\", \"Data de Defesa\", \"Orientador\", \"Tipo de Obra\"];\n    const dropdowns = ref([false, false, false, false, false, false]);\n    const toggleDropdown = index => {\n      dropdowns.value[index] = !dropdowns.value[index];\n    };\n    const formatName = fullName => {\n      const nameParts = fullName.split(\" \");\n      const lastName = nameParts.pop();\n      const firstName = nameParts.join(\" \");\n      return `${lastName}, ${firstName}`;\n    };\n    const limitAndSort = array => {\n      return array.sort((a, b) => a.localeCompare(b)).slice(0, 7);\n    };\n    const updateDropdowns = () => {\n      dropdownOptions.value[0] = limitAndSort(autores.value.map(a => a.nome_autor));\n      dropdownOptions.value[1] = limitAndSort(obras.value.map(o => o.titulo));\n      dropdownOptions.value[2] = limitAndSort(cursos.value.map(c => c.nome_curso));\n      dropdownOptions.value[3] = limitAndSort(obras.value.map(o => new Date(o.data_apresentacao).getFullYear()));\n      dropdownOptions.value[4] = limitAndSort(orientadores.value.map(o => o.nome_orientador));\n      dropdownOptions.value[5] = limitAndSort(tiposDeObra.value);\n      allOptions.value[0] = autores.value.map(a => a.nome_autor);\n      allOptions.value[1] = obras.value.map(o => o.titulo);\n      allOptions.value[2] = cursos.value.map(c => c.nome_curso);\n      allOptions.value[3] = obras.value.map(o => new Date(o.data_apresentacao).getFullYear());\n      allOptions.value[4] = orientadores.value.map(o => o.nome_orientador);\n      allOptions.value[5] = tiposDeObra.value;\n    };\n    const loadMore = index => {\n      const start = dropdownOptions.value[index].length;\n      const moreItems = limitAndSort(allOptions.value[index].slice(start, start + 7));\n      dropdownOptions.value[index] = [...dropdownOptions.value[index], ...moreItems];\n    };\n    onMounted(async () => {\n      try {\n        await autorStore.listarAutores();\n        autores.value = autorStore.autores;\n        await orientadorStore.listarOrientadores();\n        orientadores.value = orientadorStore.orientadores;\n        await obraStore.listarObras();\n        obras.value = obraStore.obras;\n        tiposDeObra.value = obras.value.map(obra => obra.tipo);\n        await cursoStore.listarCursos();\n        cursos.value = cursoStore.cursos;\n        updateDropdowns();\n      } catch (error) {\n        console.error(\"Erro ao carregar dados:\", error);\n      }\n    });\n    return {\n      autores,\n      orientadores,\n      tiposDeObra,\n      cursos,\n      obras,\n      dropdownOptions,\n      buttons,\n      dropdowns,\n      toggleDropdown,\n      formatName,\n      loadMore\n    };\n  }\n};","map":{"version":3,"names":["useAutorStore","useOrientadorStore","useObraStore","useCursoStore","onMounted","ref","setup","autorStore","orientadorStore","obraStore","cursoStore","autores","orientadores","tiposDeObra","cursos","obras","dropdownOptions","allOptions","buttons","dropdowns","toggleDropdown","index","value","formatName","fullName","nameParts","split","lastName","pop","firstName","join","limitAndSort","array","sort","a","b","localeCompare","slice","updateDropdowns","map","nome_autor","o","titulo","c","nome_curso","Date","data_apresentacao","getFullYear","nome_orientador","loadMore","start","length","moreItems","listarAutores","listarOrientadores","listarObras","obra","tipo","listarCursos","error","console"],"sources":["C:\\Users\\Micro\\Music\\sistema_tcc\\aplicacao\\frontend\\src\\components\\lista\\ListaSuspensa.vue"],"sourcesContent":["<template>\r\n  <v-container class=\"d-flex flex-column align-center gap-4\">\r\n    <!-- Botões com Lista Suspensa -->\r\n    <v-row class=\"button-container\" justify=\"center\" align=\"center\">\r\n      <v-col\r\n        v-for=\"(item, index) in buttons\"\r\n        :key=\"index\"\r\n        cols=\"12\"\r\n        md=\"4\"\r\n        class=\"mb-4\"\r\n      >\r\n        <!-- Botão Principal -->\r\n        <v-btn\r\n          class=\"filter-button\"\r\n          elevation=\"2\"\r\n          dark\r\n          block\r\n          @click=\"toggleDropdown(index)\"\r\n        >\r\n          <!-- Ícone à Esquerda -->\r\n          <v-icon class=\"me-2\">\r\n            {{ dropdowns[index] ? 'mdi-minus' : 'mdi-plus' }}\r\n          </v-icon>\r\n          <span>{{ item }}</span>\r\n        </v-btn>\r\n\r\n        <!-- Lista Suspensa -->\r\n        <v-expand-transition>\r\n          <div v-if=\"dropdowns[index]\" class=\"dropdown-list\">\r\n            <ul v-if=\"index === 0\">\r\n              <li\r\n                v-for=\"(autor, idx) in dropdownOptions[0]\"\r\n                :key=\"idx\"\r\n                class=\"dropdown-item\"\r\n              >\r\n                {{ formatName(autor) }}\r\n              </li>\r\n            </ul>\r\n\r\n            <ul v-if=\"index === 1\">\r\n              <li\r\n                v-for=\"(obra, idx) in dropdownOptions[1]\"\r\n                :key=\"idx\"\r\n                class=\"dropdown-item\"\r\n              >\r\n                {{ obra }}\r\n              </li>\r\n            </ul>\r\n\r\n            <ul v-if=\"index === 2\">\r\n              <li\r\n                v-for=\"(curso, idx) in dropdownOptions[2]\"\r\n                :key=\"idx\"\r\n                class=\"dropdown-item\"\r\n              >\r\n                {{ curso }}\r\n              </li>\r\n            </ul>\r\n\r\n            <ul v-if=\"index === 3\">\r\n              <li\r\n                v-for=\"(ano, idx) in dropdownOptions[3]\"\r\n                :key=\"idx\"\r\n                class=\"dropdown-item\"\r\n              >\r\n                {{ ano }}\r\n              </li>\r\n            </ul>\r\n\r\n            <ul v-if=\"index === 4\">\r\n              <li\r\n                v-for=\"(orientador, idx) in dropdownOptions[4]\"\r\n                :key=\"idx\"\r\n                class=\"dropdown-item\"\r\n              >\r\n                {{ formatName(orientador) }}\r\n              </li>\r\n            </ul>\r\n\r\n            <ul v-if=\"index === 5\">\r\n              <li\r\n                v-for=\"(tipo, idx) in dropdownOptions[5]\"\r\n                :key=\"idx\"\r\n                class=\"dropdown-item\"\r\n              >\r\n                {{ tipo }}\r\n              </li>\r\n            </ul>\r\n\r\n            <!-- Botão Próximo -->\r\n            <v-btn\r\n              v-if=\"dropdownOptions[index].length > 7\"\r\n              class=\"mt-2\"\r\n              @click=\"loadMore(index)\"\r\n              small\r\n              color=\"primary\"\r\n            >\r\n              Próximo\r\n            </v-btn>\r\n          </div>\r\n        </v-expand-transition>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { useAutorStore } from \"../../store/autorStore\";\r\nimport { useOrientadorStore } from \"../../store/orientadorStore\"; \r\nimport { useObraStore } from \"../../store/obraStore\"; \r\nimport { useCursoStore } from \"../../store/cursoStore\"; \r\nimport { onMounted, ref } from \"vue\";\r\n\r\nexport default {\r\n  setup() {\r\n    const autorStore = useAutorStore();\r\n    const orientadorStore = useOrientadorStore();\r\n    const obraStore = useObraStore();\r\n    const cursoStore = useCursoStore();\r\n    const autores = ref([]);\r\n    const orientadores = ref([]);\r\n    const tiposDeObra = ref([]);\r\n    const cursos = ref([]);\r\n    const obras = ref([]);\r\n    \r\n    const dropdownOptions = ref([\r\n      [], // Autor\r\n      [], // Título\r\n      [], // Curso\r\n      [], // Ano\r\n      [], // Orientador\r\n      [], // Tipo de Obra\r\n    ]);\r\n    \r\n    const allOptions = ref([\r\n      [], // Autor\r\n      [], // Título\r\n      [], // Curso\r\n      [], // Ano\r\n      [], // Orientador\r\n      [], // Tipo de Obra\r\n    ]);\r\n    \r\n    const buttons = [\r\n      \"Autor\",\r\n      \"Título\",\r\n      \"Áreas de Conhecimento - Cursos\",\r\n      \"Data de Defesa\",\r\n      \"Orientador\",\r\n      \"Tipo de Obra\",\r\n    ];\r\n\r\n    const dropdowns = ref([false, false, false, false, false, false]);\r\n\r\n    const toggleDropdown = (index) => {\r\n      dropdowns.value[index] = !dropdowns.value[index];\r\n    };\r\n\r\n    const formatName = (fullName) => {\r\n      const nameParts = fullName.split(\" \");\r\n      const lastName = nameParts.pop();\r\n      const firstName = nameParts.join(\" \");\r\n      return `${lastName}, ${firstName}`;\r\n    };\r\n\r\n    const limitAndSort = (array) => {\r\n      return array.sort((a, b) => a.localeCompare(b)).slice(0, 7);\r\n    };\r\n\r\n    const updateDropdowns = () => {\r\n      dropdownOptions.value[0] = limitAndSort(autores.value.map((a) => a.nome_autor));\r\n      dropdownOptions.value[1] = limitAndSort(obras.value.map((o) => o.titulo));\r\n      dropdownOptions.value[2] = limitAndSort(cursos.value.map((c) => c.nome_curso));\r\n      dropdownOptions.value[3] = limitAndSort(\r\n        obras.value.map((o) => new Date(o.data_apresentacao).getFullYear())\r\n      );\r\n      dropdownOptions.value[4] = limitAndSort(orientadores.value.map((o) => o.nome_orientador));\r\n      dropdownOptions.value[5] = limitAndSort(tiposDeObra.value);\r\n      \r\n      allOptions.value[0] = autores.value.map((a) => a.nome_autor);\r\n      allOptions.value[1] = obras.value.map((o) => o.titulo);\r\n      allOptions.value[2] = cursos.value.map((c) => c.nome_curso);\r\n      allOptions.value[3] = obras.value.map((o) => new Date(o.data_apresentacao).getFullYear());\r\n      allOptions.value[4] = orientadores.value.map((o) => o.nome_orientador);\r\n      allOptions.value[5] = tiposDeObra.value;\r\n    };\r\n\r\n    const loadMore = (index) => {\r\n      const start = dropdownOptions.value[index].length;\r\n      const moreItems = limitAndSort(allOptions.value[index].slice(start, start + 7));\r\n      dropdownOptions.value[index] = [...dropdownOptions.value[index], ...moreItems];\r\n    };\r\n\r\n    onMounted(async () => {\r\n      try {\r\n        await autorStore.listarAutores();\r\n        autores.value = autorStore.autores;\r\n        \r\n        await orientadorStore.listarOrientadores();\r\n        orientadores.value = orientadorStore.orientadores;\r\n        \r\n        await obraStore.listarObras();\r\n        obras.value = obraStore.obras;\r\n        tiposDeObra.value = obras.value.map((obra) => obra.tipo);\r\n        \r\n        await cursoStore.listarCursos();\r\n        cursos.value = cursoStore.cursos;\r\n\r\n        updateDropdowns();\r\n\r\n      } catch (error) {\r\n        console.error(\"Erro ao carregar dados:\", error);\r\n      }\r\n    });\r\n\r\n    return {\r\n      autores,\r\n      orientadores,\r\n      tiposDeObra,\r\n      cursos,\r\n      obras,\r\n      dropdownOptions,\r\n      buttons,\r\n      dropdowns,\r\n      toggleDropdown,\r\n      formatName,\r\n      loadMore,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.button-container {\r\n  margin-top: 20px;\r\n}\r\n\r\n.filter-button {\r\n  width: 100%;\r\n  background-color: #00420c;\r\n  color: #fff;\r\n  height: 50px;\r\n  text-transform: none;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  padding: 0 16px;\r\n}\r\n\r\n.filter-button:hover {\r\n  background-color: #001a05;\r\n}\r\n\r\n.dropdown-list {\r\n  background: #e0f2f1;\r\n  border-radius: 8px;\r\n  padding: 8px 16px;\r\n  margin-top: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n  max-height: 250px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.dropdown-list ul {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.dropdown-list li {\r\n  font-size: 14px;\r\n  margin-bottom: 4px;\r\n  color: #004d40;\r\n  word-wrap: break-word;\r\n  white-space: normal;\r\n}\r\n\r\n.dropdown-list li:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.dropdown-item {\r\n  white-space: normal;\r\n}\r\n\r\n.mt-2 {\r\n  margin-top: 8px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}