{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useObraStore } from \"@/store/obraStore\";\nexport default {\n  data() {\n    return {\n      valid: false,\n      menu: false,\n      // Controle do menu\n      obra: {\n        titulo: \"\",\n        tipo: \"\",\n        data_publicacao: null,\n        resumo: \"\",\n        palavras_chave: \"\",\n        arquivo: null,\n        id_curso: null,\n        autor: {\n          matricula: \"\",\n          nome: \"\",\n          email: \"\"\n        }\n      },\n      cursos: [],\n      // Lista de cursos\n      tipos: [\"TCC\", \"Artigo\", \"Monografia\"],\n      // Exemplos de tipos\n      rules: {\n        required: value => !!value || \"Este campo é obrigatório\",\n        email: value => !value || /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value) || \"Email inválido\",\n        keywords: value => value?.split(\",\").length > 0 || \"Informe ao menos uma palavra-chave\"\n      }\n    };\n  },\n  methods: {\n    async handleSubmit() {\n      const store = useObraStore();\n      if (this.$refs.obraForm.validate()) {\n        try {\n          await store.cadastrarObra(this.obra.titulo, this.obra.resumo, this.obra.palavras_chave, this.obra.data_publicacao, this.obra.tipo, null, this.obra.id_curso);\n          this.$router.push(\"/home\");\n        } catch (error) {\n          console.error(\"Erro ao salvar obra:\", error);\n        }\n      }\n    },\n    handleReset() {\n      this.$refs.obraForm.reset();\n    },\n    goBack() {\n      this.$router.push(\"/home\");\n    }\n  },\n  mounted() {\n    const store = useObraStore();\n    store.listarCursos().then(data => this.cursos = data);\n  }\n};","map":{"version":3,"names":["useObraStore","data","valid","menu","obra","titulo","tipo","data_publicacao","resumo","palavras_chave","arquivo","id_curso","autor","matricula","nome","email","cursos","tipos","rules","required","value","test","keywords","split","length","methods","handleSubmit","store","$refs","obraForm","validate","cadastrarObra","$router","push","error","console","handleReset","reset","goBack","mounted","listarCursos","then"],"sources":["C:\\Users\\Micro\\Music\\sistema_tcc\\aplicacao\\frontend\\src\\components\\cadastro\\CadastroForm.vue"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <!-- Título do Formulário -->\r\n    <v-row justify=\"center\" class=\"mb-4\">\r\n      <v-col cols=\"12\" md=\"8\">\r\n        <h2 class=\"form-title text-center\">Cadastro de Obra</h2>\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <!-- Formulário -->\r\n    <v-form ref=\"obraForm\" v-model=\"valid\">\r\n      <v-row justify=\"center\" class=\"form-container\" no-gutters>\r\n        <!-- Coluna 1 -->\r\n        <v-col cols=\"12\" md=\"6\" class=\"pr-md-2\">\r\n          <h4 class=\"text-center\">Obra</h4>\r\n          <!-- Título -->\r\n          <v-text-field\r\n            label=\"Título da Obra\"\r\n            v-model=\"obra.titulo\"\r\n            :rules=\"[rules.required]\"\r\n            outlined\r\n            dense\r\n          ></v-text-field>\r\n\r\n          <!-- Tipo -->\r\n          <v-select\r\n            label=\"Tipo de Obra\"\r\n            v-model=\"obra.tipo\"\r\n            :items=\"tipos\"\r\n            :rules=\"[rules.required]\"\r\n            outlined\r\n            dense\r\n          ></v-select>\r\n\r\n          <!-- Data de Apresentação -->\r\n          <v-menu\r\n            v-model=\"menu\"\r\n            :close-on-content-click=\"false\"\r\n            :nudge-width=\"200\"\r\n            offset-y\r\n            persistent\r\n          >\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <v-text-field\r\n                v-bind=\"attrs\"\r\n                v-on=\"on\"\r\n                label=\"Data de Apresentação\"\r\n                v-model=\"obra.data_publicacao\"\r\n                :rules=\"[rules.required]\"\r\n                readonly\r\n                outlined\r\n                dense\r\n              ></v-text-field>\r\n            </template>\r\n            <v-date-picker\r\n              v-model=\"obra.data_publicacao\"\r\n              @input=\"menu = false\"\r\n              scrollable\r\n            ></v-date-picker>\r\n          </v-menu>\r\n\r\n          <!-- Resumo -->\r\n          <v-textarea\r\n            label=\"Resumo\"\r\n            v-model=\"obra.resumo\"\r\n            :rules=\"[rules.required]\"\r\n            outlined\r\n            dense\r\n            rows=\"3\"\r\n          ></v-textarea>\r\n\r\n          <!-- Palavras-Chave -->\r\n          <v-text-field\r\n            label=\"Palavras-Chave\"\r\n            v-model=\"obra.palavras_chave\"\r\n            :rules=\"[rules.keywords]\"\r\n            outlined\r\n            dense\r\n            hint=\"Separe por vírgulas (Ex.: TI, Repositório, TCC)\"\r\n          ></v-text-field>\r\n\r\n          <!-- Arquivo -->\r\n          <v-file-input\r\n            label=\"Arquivo\"\r\n            v-model=\"obra.arquivo\"\r\n            outlined\r\n            dense\r\n            accept=\".pdf\"\r\n          ></v-file-input>\r\n\r\n          <!-- Curso -->\r\n          <v-container class=\"my-5\">\r\n            <h4 class=\"text-center\">Curso</h4>\r\n            <v-select\r\n              label=\"Curso\"\r\n              v-model=\"obra.id_curso\"\r\n              :items=\"cursos\"\r\n              item-text=\"nome\"\r\n              item-value=\"id\"\r\n              :rules=\"[rules.required]\"\r\n              outlined\r\n              dense\r\n            ></v-select>\r\n          </v-container>\r\n        </v-col>\r\n\r\n        <!-- Coluna 2 -->\r\n        <v-col cols=\"12\" md=\"6\" class=\"pl-md-2\">\r\n          <h4 class=\"text-center\">Autor</h4>\r\n          <!-- Autor -->\r\n          <v-text-field\r\n            label=\"Matrícula\"\r\n            v-model=\"obra.autor.matricula\"\r\n            :rules=\"[rules.required]\"\r\n            outlined\r\n            dense\r\n          ></v-text-field>\r\n          <v-text-field\r\n            label=\"Nome\"\r\n            v-model=\"obra.autor.nome\"\r\n            :rules=\"[rules.required]\"\r\n            outlined\r\n            dense\r\n          ></v-text-field>\r\n          <v-text-field\r\n            label=\"Email\"\r\n            v-model=\"obra.autor.email\"\r\n            :rules=\"[rules.email]\"\r\n            outlined\r\n            dense\r\n          ></v-text-field>\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <!-- Botões -->\r\n      <v-row justify=\"center\" class=\"mt-4\">\r\n        <v-col cols=\"12\" md=\"8\" class=\"text-center\">\r\n          <v-btn class=\"mr-4\" id=\"save\" @click=\"handleSubmit\">Salvar</v-btn>\r\n          <v-btn outlined class=\"mr-4\" id=\"reset\" @click=\"handleReset\">Limpar</v-btn>\r\n          <v-btn outlined id=\"back\" @click=\"goBack\">Voltar</v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </v-form>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { useObraStore } from \"@/store/obraStore\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      valid: false,\r\n      menu: false, // Controle do menu\r\n      obra: {\r\n        titulo: \"\",\r\n        tipo: \"\",\r\n        data_publicacao: null,\r\n        resumo: \"\",\r\n        palavras_chave: \"\",\r\n        arquivo: null,\r\n        id_curso: null,\r\n        autor: { matricula: \"\", nome: \"\", email: \"\" },\r\n      },\r\n      cursos: [], // Lista de cursos\r\n      tipos: [\"TCC\", \"Artigo\", \"Monografia\"], // Exemplos de tipos\r\n      rules: {\r\n        required: (value) => !!value || \"Este campo é obrigatório\",\r\n        email: (value) =>\r\n          !value || /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value) || \"Email inválido\",\r\n        keywords: (value) =>\r\n          value?.split(\",\").length > 0 || \"Informe ao menos uma palavra-chave\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    async handleSubmit() {\r\n      const store = useObraStore();\r\n      if (this.$refs.obraForm.validate()) {\r\n        try {\r\n          await store.cadastrarObra(this.obra.titulo, this.obra.resumo, this.obra.palavras_chave, this.obra.data_publicacao, this.obra.tipo, null, this.obra.id_curso);\r\n          this.$router.push(\"/home\");\r\n        } catch (error) {\r\n          console.error(\"Erro ao salvar obra:\", error);\r\n        }\r\n      }\r\n    },\r\n    handleReset() {\r\n      this.$refs.obraForm.reset();\r\n    },\r\n    goBack() {\r\n      this.$router.push(\"/home\");\r\n    },\r\n  },\r\n  mounted() {\r\n    const store = useObraStore();\r\n    store.listarCursos().then((data) => (this.cursos = data));\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Título do formulário */\r\n.form-title {\r\n  font-weight: bold;\r\n  border-radius: 5px;\r\n  font-size: 20px;\r\n  text-transform: uppercase;\r\n  padding: 10px;\r\n  margin: 30px 0 20px;\r\n  color: #fff;\r\n  background: linear-gradient(90deg, #00420c, #28a745);\r\n}\r\n\r\n/* Botões */\r\n#save {\r\n  background-color: #006dba;\r\n  color: #fff;\r\n  font-weight: bold;\r\n}\r\n\r\n#reset {\r\n  background-color: red;\r\n  color: #fff;\r\n  font-weight: bold;\r\n}\r\n\r\n#back {\r\n  background-color: #00420c;\r\n  color: #fff;\r\n}\r\n\r\n#save:hover {\r\n  background-color: #004b81;\r\n}\r\n\r\n#reset:hover {\r\n  background-color: #f44336;\r\n}\r\n\r\n#back:hover {\r\n  background-color: #002907;\r\n}\r\n\r\n/* Formulário */\r\n.form-container {\r\n  max-width: 1170px;\r\n  border-radius: 10px;\r\n  margin: auto;\r\n  padding: 20px;\r\n  background-color: #f9f9f9;\r\n  color: #002907;\r\n}\r\n\r\nh4 {\r\n  margin-bottom: 10px;\r\n  padding: 5px;\r\n  text-transform: uppercase;\r\n  font-weight: bold;\r\n  background: linear-gradient(90deg, #00420c, #28a745);\r\n  border-radius: 3px;\r\n  color: #fff;\r\n}\r\n</style>\r\n"],"mappings":";AAmJA,SAASA,YAAW,QAAS,mBAAmB;AAEhD,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,KAAK;MACZC,IAAI,EAAE,KAAK;MAAE;MACbC,IAAI,EAAE;QACJC,MAAM,EAAE,EAAE;QACVC,IAAI,EAAE,EAAE;QACRC,eAAe,EAAE,IAAI;QACrBC,MAAM,EAAE,EAAE;QACVC,cAAc,EAAE,EAAE;QAClBC,OAAO,EAAE,IAAI;QACbC,QAAQ,EAAE,IAAI;QACdC,KAAK,EAAE;UAAEC,SAAS,EAAE,EAAE;UAAEC,IAAI,EAAE,EAAE;UAAEC,KAAK,EAAE;QAAG;MAC9C,CAAC;MACDC,MAAM,EAAE,EAAE;MAAE;MACZC,KAAK,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,YAAY,CAAC;MAAE;MACxCC,KAAK,EAAE;QACLC,QAAQ,EAAGC,KAAK,IAAK,CAAC,CAACA,KAAI,IAAK,0BAA0B;QAC1DL,KAAK,EAAGK,KAAK,IACX,CAACA,KAAI,IAAK,4BAA4B,CAACC,IAAI,CAACD,KAAK,KAAK,gBAAgB;QACxEE,QAAQ,EAAGF,KAAK,IACdA,KAAK,EAAEG,KAAK,CAAC,GAAG,CAAC,CAACC,MAAK,GAAI,KAAK;MACpC;IACF,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,YAAYA,CAAA,EAAG;MACnB,MAAMC,KAAI,GAAI3B,YAAY,CAAC,CAAC;MAC5B,IAAI,IAAI,CAAC4B,KAAK,CAACC,QAAQ,CAACC,QAAQ,CAAC,CAAC,EAAE;QAClC,IAAI;UACF,MAAMH,KAAK,CAACI,aAAa,CAAC,IAAI,CAAC3B,IAAI,CAACC,MAAM,EAAE,IAAI,CAACD,IAAI,CAACI,MAAM,EAAE,IAAI,CAACJ,IAAI,CAACK,cAAc,EAAE,IAAI,CAACL,IAAI,CAACG,eAAe,EAAE,IAAI,CAACH,IAAI,CAACE,IAAI,EAAE,IAAI,EAAE,IAAI,CAACF,IAAI,CAACO,QAAQ,CAAC;UAC5J,IAAI,CAACqB,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC;QAC5B,EAAE,OAAOC,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC9C;MACF;IACF,CAAC;IACDE,WAAWA,CAAA,EAAG;MACZ,IAAI,CAACR,KAAK,CAACC,QAAQ,CAACQ,KAAK,CAAC,CAAC;IAC7B,CAAC;IACDC,MAAMA,CAAA,EAAG;MACP,IAAI,CAACN,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC;IAC5B;EACF,CAAC;EACDM,OAAOA,CAAA,EAAG;IACR,MAAMZ,KAAI,GAAI3B,YAAY,CAAC,CAAC;IAC5B2B,KAAK,CAACa,YAAY,CAAC,CAAC,CAACC,IAAI,CAAExC,IAAI,IAAM,IAAI,CAACe,MAAK,GAAIf,IAAK,CAAC;EAC3D;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}