{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      titulo: '',\n      tipo: '',\n      data_apresentacao: '',\n      resumo: '',\n      palavras_chave: '',\n      arquivo: null,\n      fk_id_curso: null,\n      fk_id_autor: null,\n      fk_id_orientador: null,\n      cursos: [],\n      autores: [],\n      orientadores: []\n    };\n  },\n  methods: {\n    submitForm() {\n      const formData = new FormData();\n      formData.append('titulo', this.titulo);\n      formData.append('tipo', this.tipo);\n      formData.append('data_apresentacao', this.data_apresentacao);\n      formData.append('resumo', this.resumo);\n      formData.append('palavras_chave', this.palavras_chave);\n      if (this.arquivo) {\n        formData.append('arquivo', this.arquivo);\n      }\n      formData.append('fk_id_curso', this.fk_id_curso);\n      formData.append('fk_id_autor', this.fk_id_autor);\n      formData.append('fk_id_orientador', this.fk_id_orientador);\n      axios.post('http://localhost:3000/obras', formData).then(response => {\n        console.log('Obra cadastrada:', response.data);\n      }).catch(error => {\n        console.error('Erro ao cadastrar obra:', error);\n      });\n    },\n    onFileChange(event) {\n      this.arquivo = event.target.files[0];\n    },\n    fetchDados() {\n      // Buscar cursos\n      axios.get('http://localhost:3000/cursos').then(response => {\n        this.cursos = response.data;\n      }).catch(error => {\n        console.error('Erro ao buscar cursos:', error);\n      });\n\n      // Buscar autores\n      axios.get('http://localhost:3000/autores').then(response => {\n        this.autores = response.data;\n      }).catch(error => {\n        console.error('Erro ao buscar autores:', error);\n      });\n\n      // Buscar orientadores\n      axios.get('http://localhost:3000/orientadores').then(response => {\n        this.orientadores = response.data;\n      }).catch(error => {\n        console.error('Erro ao buscar orientadores:', error);\n      });\n    }\n  },\n  mounted() {\n    this.fetchDados();\n  }\n};","map":{"version":3,"names":["axios","data","titulo","tipo","data_apresentacao","resumo","palavras_chave","arquivo","fk_id_curso","fk_id_autor","fk_id_orientador","cursos","autores","orientadores","methods","submitForm","formData","FormData","append","post","then","response","console","log","catch","error","onFileChange","event","target","files","fetchDados","get","mounted"],"sources":["C:\\Users\\Micro\\Music\\sistema_tcc\\aplicacao\\frontend\\src\\components\\FormularioCadastro.vue"],"sourcesContent":["<template>\r\n    <div class=\"formulario-cadastro\">\r\n      <h1>Cadastro de Obra</h1>\r\n      <form @submit.prevent=\"submitForm\">\r\n        \r\n        <!-- Campos de Obra -->\r\n        <div>\r\n          <label for=\"titulo\">Título:</label>\r\n          <input type=\"text\" v-model=\"titulo\" id=\"titulo\" required />\r\n        </div>\r\n        <div>\r\n          <label for=\"tipo\">Tipo:</label>\r\n          <input type=\"text\" v-model=\"tipo\" id=\"tipo\" required />\r\n        </div>\r\n        <div>\r\n          <label for=\"data_apresentacao\">Data de Apresentação:</label>\r\n          <input type=\"date\" v-model=\"data_apresentacao\" id=\"data_apresentacao\" required />\r\n        </div>\r\n        <div>\r\n          <label for=\"resumo\">Resumo:</label>\r\n          <textarea v-model=\"resumo\" id=\"resumo\" required></textarea>\r\n        </div>\r\n        <div>\r\n          <label for=\"palavras_chave\">Palavras-Chave:</label>\r\n          <input type=\"text\" v-model=\"palavras_chave\" id=\"palavras_chave\" required />\r\n        </div>\r\n        <div>\r\n          <label for=\"arquivo\">Arquivo:</label>\r\n          <input type=\"file\" @change=\"onFileChange\" id=\"arquivo\" />\r\n        </div>\r\n  \r\n        <!-- Curso (chave estrangeira) -->\r\n        <div>\r\n          <label for=\"curso\">Curso:</label>\r\n          <select v-model=\"fk_id_curso\" id=\"curso\">\r\n            <option v-for=\"curso in cursos\" :key=\"curso.id_curso\" :value=\"curso.id_curso\">\r\n              {{ curso.nome_curso }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n  \r\n        <!-- Autor (chave estrangeira) -->\r\n        <div>\r\n          <label for=\"autor\">Autor:</label>\r\n          <select v-model=\"fk_id_autor\" id=\"autor\">\r\n            <option v-for=\"autor in autores\" :key=\"autor.id_autor\" :value=\"autor.id_autor\">\r\n              {{ autor.nome_autor }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n  \r\n        <!-- Orientador (chave estrangeira) -->\r\n        <div>\r\n          <label for=\"orientador\">Orientador:</label>\r\n          <select v-model=\"fk_id_orientador\" id=\"orientador\">\r\n            <option v-for=\"orientador in orientadores\" :key=\"orientador.id_orientador\" :value=\"orientador.id_orientador\">\r\n              {{ orientador.nome_orientador }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n  \r\n        <button type=\"submit\">Cadastrar Obra</button>\r\n      </form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        titulo: '',\r\n        tipo: '',\r\n        data_apresentacao: '',\r\n        resumo: '',\r\n        palavras_chave: '',\r\n        arquivo: null,\r\n        fk_id_curso: null,\r\n        fk_id_autor: null,\r\n        fk_id_orientador: null,\r\n        cursos: [],\r\n        autores: [],\r\n        orientadores: []\r\n      };\r\n    },\r\n    methods: {\r\n      submitForm() {\r\n        const formData = new FormData();\r\n        formData.append('titulo', this.titulo);\r\n        formData.append('tipo', this.tipo);\r\n        formData.append('data_apresentacao', this.data_apresentacao);\r\n        formData.append('resumo', this.resumo);\r\n        formData.append('palavras_chave', this.palavras_chave);\r\n        if (this.arquivo) {\r\n          formData.append('arquivo', this.arquivo);\r\n        }\r\n        formData.append('fk_id_curso', this.fk_id_curso);\r\n        formData.append('fk_id_autor', this.fk_id_autor);\r\n        formData.append('fk_id_orientador', this.fk_id_orientador);\r\n  \r\n        axios.post('http://localhost:3000/obras', formData)\r\n          .then(response => {\r\n            console.log('Obra cadastrada:', response.data);\r\n          })\r\n          .catch(error => {\r\n            console.error('Erro ao cadastrar obra:', error);\r\n          });\r\n      },\r\n      onFileChange(event) {\r\n        this.arquivo = event.target.files[0];\r\n      },\r\n      fetchDados() {\r\n        // Buscar cursos\r\n        axios.get('http://localhost:3000/cursos')\r\n          .then(response => {\r\n            this.cursos = response.data;\r\n          })\r\n          .catch(error => {\r\n            console.error('Erro ao buscar cursos:', error);\r\n          });\r\n        \r\n        // Buscar autores\r\n        axios.get('http://localhost:3000/autores')\r\n          .then(response => {\r\n            this.autores = response.data;\r\n          })\r\n          .catch(error => {\r\n            console.error('Erro ao buscar autores:', error);\r\n          });\r\n  \r\n        // Buscar orientadores\r\n        axios.get('http://localhost:3000/orientadores')\r\n          .then(response => {\r\n            this.orientadores = response.data;\r\n          })\r\n          .catch(error => {\r\n            console.error('Erro ao buscar orientadores:', error);\r\n          });\r\n      }\r\n    },\r\n    mounted() {\r\n      this.fetchDados();\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .formulario-obra {\r\n    max-width: 600px;\r\n    margin: auto;\r\n  }\r\n  button {\r\n    background-color: #007bff;\r\n    color: white;\r\n    border: none;\r\n    padding: 10px;\r\n    cursor: pointer;\r\n  }\r\n  button:hover {\r\n    background-color: #0056b3;\r\n  }\r\n  </style>  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}