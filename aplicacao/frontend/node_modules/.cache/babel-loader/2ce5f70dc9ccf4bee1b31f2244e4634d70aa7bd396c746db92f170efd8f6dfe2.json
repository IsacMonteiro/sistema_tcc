{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useAutorStore } from \"../../store/autorStore\";\nimport { useOrientadorStore } from \"../../store/orientadorStore\";\nimport { useObraStore } from \"../../store/obraStore\";\nimport { useCursoStore } from \"../../store/cursoStore\";\nimport { onMounted, ref, nextTick } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  setup() {\n    const router = useRouter();\n    const autorStore = useAutorStore();\n    const orientadorStore = useOrientadorStore();\n    const obraStore = useObraStore();\n    const cursoStore = useCursoStore();\n    const autores = ref([]);\n    const orientadores = ref([]);\n    const cursos = ref([]);\n    const obras = ref([]);\n    const dropdownOptions = ref([[], [], [], [], [], []]); // Filtros para os dropdowns\n\n    const buttons = [\"Autor\", \"Título\", \"Áreas de Conhecimento - Cursos\", \"Data de Defesa\", \"Orientador\", \"Tipo de Obra\"];\n    const dropdowns = ref([false, false, false, false, false, false]);\n    const pages = ref([0, 0, 0, 0, 0, 0]); // Página atual para cada dropdown\n    const itemsPerPage = 7;\n    const toggleDropdown = index => {\n      dropdowns.value[index] = !dropdowns.value[index];\n    };\n    const groupAndCountByCustomRelation = (mapFn, items) => {\n      const grouped = items.reduce((acc, item) => {\n        const key = mapFn(item);\n        if (!key) return acc;\n        acc[key] = (acc[key] || 0) + 1;\n        return acc;\n      }, {});\n      return Object.entries(grouped).map(([text, count]) => ({\n        text,\n        count\n      }));\n    };\n    const updateDropdowns = () => {\n      dropdownOptions.value[0] = groupAndCountByCustomRelation(obra => autores.value.find(a => a.id_autor === obra.fk_id_autor)?.nome_autor || \"Autor Desconhecido\", obras.value);\n      dropdownOptions.value[1] = groupAndCountByCustomRelation(obra => obra.titulo || \"Título Desconhecido\", obras.value);\n      dropdownOptions.value[2] = groupAndCountByCustomRelation(obra => cursos.value.find(c => c.id_curso === obra.fk_id_curso)?.nome_curso || \"Curso Desconhecido\", obras.value);\n      dropdownOptions.value[3] = groupAndCountByCustomRelation(obra => new Date(obra.data_apresentacao).getFullYear(), obras.value);\n      dropdownOptions.value[4] = groupAndCountByCustomRelation(obra => orientadores.value.find(o => o.id_orientador === obra.fk_id_orientador)?.nome_orientador || \"Orientador Desconhecido\", obras.value);\n      dropdownOptions.value[5] = groupAndCountByCustomRelation(obra => obra.tipo || \"Tipo Desconhecido\", obras.value);\n    };\n    const goToResults = (index, selectedItem) => {\n      const filterKey = buttons[index];\n      if (!selectedItem || !filterKey) {\n        return;\n      }\n\n      // Navegar para a página de resultados com os parâmetros de filtro\n      router.push({\n        name: \"SearchPage\",\n        // Nome da rota da página de resultados\n        query: {\n          filterKey,\n          selectedItem\n        }\n      }).catch(err => {\n        console.error(\"Erro ao navegar para a rota:\", err);\n      });\n    };\n    const getVisibleItems = index => {\n      const start = pages.value[index] * itemsPerPage;\n\n      // Cria uma cópia dos itens e aplica a formatação nos campos \"Autor\", \"Orientador\" e \"Título\"\n      const visibleItems = [...dropdownOptions.value[index]].map(item => {\n        if (index === 0) {\n          item.text = formatName(item.text, true); // Formatação para autor\n        } else if (index === 4) {\n          item.text = formatName(item.text, true); // Formatação para orientador\n        } else if (index === 1) {\n          item.text = item.text.toUpperCase(); // Formatação para título\n        }\n        return item;\n      });\n      return visibleItems.slice(start, start + itemsPerPage);\n    };\n    const formatName = (name, isAuthorOrAdvisor = false) => {\n      // Função para formatar o nome de autores ou orientadores (por exemplo, sobrenome primeiro)\n      if (isAuthorOrAdvisor && name) {\n        const nameParts = name.split(' ');\n        if (nameParts.length > 1) {\n          const lastName = nameParts.pop(); // Sobrenome\n          nameParts.unshift(lastName); // Coloca o sobrenome primeiro\n        }\n        name = nameParts.join(' ');\n      }\n      return name.toUpperCase();\n    };\n    const hasPreviousPage = index => pages.value[index] > 0;\n    const hasNextPage = index => pages.value[index] * itemsPerPage + itemsPerPage < dropdownOptions.value[index].length;\n    const goToPreviousPage = index => {\n      if (pages.value[index] > 0) pages.value[index]--;\n    };\n    const goToNextPage = index => {\n      if (pages.value[index] * itemsPerPage + itemsPerPage < dropdownOptions.value[index].length) pages.value[index]++;\n    };\n    onMounted(async () => {\n      try {\n        await autorStore.listarAutores();\n        autores.value = autorStore.autores;\n        await orientadorStore.listarOrientadores();\n        orientadores.value = orientadorStore.orientadores;\n        await obraStore.listarObras();\n        obras.value = obraStore.obras;\n        await cursoStore.listarCursos();\n        cursos.value = cursoStore.cursos;\n        nextTick(() => updateDropdowns()); // Atualizar dropdowns fora do ciclo de renderização\n      } catch (error) {\n        console.error(\"Erro ao carregar dados:\", error);\n      }\n    });\n    return {\n      autores,\n      orientadores,\n      cursos,\n      obras,\n      dropdownOptions,\n      buttons,\n      dropdowns,\n      toggleDropdown,\n      goToResults,\n      getVisibleItems,\n      hasPreviousPage,\n      hasNextPage,\n      goToPreviousPage,\n      goToNextPage\n    };\n  }\n};","map":{"version":3,"names":["useAutorStore","useOrientadorStore","useObraStore","useCursoStore","onMounted","ref","nextTick","useRouter","setup","router","autorStore","orientadorStore","obraStore","cursoStore","autores","orientadores","cursos","obras","dropdownOptions","buttons","dropdowns","pages","itemsPerPage","toggleDropdown","index","value","groupAndCountByCustomRelation","mapFn","items","grouped","reduce","acc","item","key","Object","entries","map","text","count","updateDropdowns","obra","find","a","id_autor","fk_id_autor","nome_autor","titulo","c","id_curso","fk_id_curso","nome_curso","Date","data_apresentacao","getFullYear","o","id_orientador","fk_id_orientador","nome_orientador","tipo","goToResults","selectedItem","filterKey","push","name","query","catch","err","console","error","getVisibleItems","start","visibleItems","formatName","toUpperCase","slice","isAuthorOrAdvisor","nameParts","split","length","lastName","pop","unshift","join","hasPreviousPage","hasNextPage","goToPreviousPage","goToNextPage","listarAutores","listarOrientadores","listarObras","listarCursos"],"sources":["C:\\Users\\Micro\\Music\\sistema_tcc\\aplicacao\\frontend\\src\\components\\lista\\ListaSuspensa.vue"],"sourcesContent":["<template>\r\n  <v-container class=\"d-flex flex-column align-center gap-4\">\r\n    <v-row class=\"button-container\" justify=\"center\" align=\"center\">\r\n      <v-col v-for=\"(item, index) in buttons\" :key=\"index\" cols=\"12\" md=\"4\" class=\"mb-4\">\r\n        <v-btn class=\"filter-button\" elevation=\"2\" dark @click=\"toggleDropdown(index)\">\r\n          <v-icon class=\"me-2\">\r\n            {{ dropdowns[index] ? 'mdi-minus' : 'mdi-plus' }}\r\n          </v-icon>\r\n          <span>{{ item }}</span>\r\n        </v-btn>\r\n\r\n        <v-expand-transition>\r\n          <div v-if=\"dropdowns[index]\" class=\"dropdown-list\">\r\n            <ul>\r\n              <li\r\n                v-for=\"(option, idx) in getVisibleItems(index)\"\r\n                :key=\"idx\"\r\n                @click=\"goToResults(index, option.text)\"\r\n                class=\"dropdown-item\"\r\n              >\r\n                {{ option.text }} \r\n                <span class=\"item-count\">{{ option.count }}</span>\r\n              </li>\r\n            </ul>\r\n\r\n            <div class=\"pagination-buttons\">\r\n              <v-btn v-if=\"hasPreviousPage(index)\" @click=\"goToPreviousPage(index)\" class=\"pagination-button prev-button\">\r\n                Voltar\r\n              </v-btn>\r\n\r\n              <v-btn v-if=\"hasNextPage(index)\" @click=\"goToNextPage(index)\" class=\"pagination-button next-button\">\r\n                Próximo\r\n              </v-btn>\r\n            </div>\r\n          </div>\r\n        </v-expand-transition>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { useAutorStore } from \"../../store/autorStore\";\r\nimport { useOrientadorStore } from \"../../store/orientadorStore\";\r\nimport { useObraStore } from \"../../store/obraStore\";\r\nimport { useCursoStore } from \"../../store/cursoStore\";\r\nimport { onMounted, ref, nextTick } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nexport default {\r\n  setup() {\r\n    const router = useRouter();\r\n    const autorStore = useAutorStore();\r\n    const orientadorStore = useOrientadorStore();\r\n    const obraStore = useObraStore();\r\n    const cursoStore = useCursoStore();\r\n\r\n    const autores = ref([]);\r\n    const orientadores = ref([]);\r\n    const cursos = ref([]);\r\n    const obras = ref([]);\r\n\r\n    const dropdownOptions = ref([[], [], [], [], [], []]); // Filtros para os dropdowns\r\n\r\n    const buttons = [\r\n      \"Autor\", \"Título\", \"Áreas de Conhecimento - Cursos\", \"Data de Defesa\", \"Orientador\", \"Tipo de Obra\"\r\n    ];\r\n\r\n    const dropdowns = ref([false, false, false, false, false, false]);\r\n    const pages = ref([0, 0, 0, 0, 0, 0]); // Página atual para cada dropdown\r\n    const itemsPerPage = 7;\r\n\r\n    const toggleDropdown = (index) => {\r\n      dropdowns.value[index] = !dropdowns.value[index];\r\n    };\r\n\r\n    const groupAndCountByCustomRelation = (mapFn, items) => {\r\n      const grouped = items.reduce((acc, item) => {\r\n        const key = mapFn(item);\r\n        if (!key) return acc;\r\n        acc[key] = (acc[key] || 0) + 1;\r\n        return acc;\r\n      }, {});\r\n\r\n      return Object.entries(grouped).map(([text, count]) => ({ text, count }));\r\n    };\r\n\r\n    const updateDropdowns = () => {\r\n      dropdownOptions.value[0] = groupAndCountByCustomRelation(\r\n        (obra) => autores.value.find((a) => a.id_autor === obra.fk_id_autor)?.nome_autor || \"Autor Desconhecido\",\r\n        obras.value\r\n      );\r\n      dropdownOptions.value[1] = groupAndCountByCustomRelation(\r\n        (obra) => obra.titulo || \"Título Desconhecido\",\r\n        obras.value\r\n      );\r\n      dropdownOptions.value[2] = groupAndCountByCustomRelation(\r\n        (obra) => cursos.value.find((c) => c.id_curso === obra.fk_id_curso)?.nome_curso || \"Curso Desconhecido\",\r\n        obras.value\r\n      );\r\n      dropdownOptions.value[3] = groupAndCountByCustomRelation(\r\n        (obra) => new Date(obra.data_apresentacao).getFullYear(),\r\n        obras.value\r\n      );\r\n      dropdownOptions.value[4] = groupAndCountByCustomRelation(\r\n        (obra) => orientadores.value.find((o) => o.id_orientador === obra.fk_id_orientador)?.nome_orientador || \"Orientador Desconhecido\",\r\n        obras.value\r\n      );\r\n      dropdownOptions.value[5] = groupAndCountByCustomRelation(\r\n        (obra) => obra.tipo || \"Tipo Desconhecido\",\r\n        obras.value\r\n      );\r\n    };\r\n\r\n    const goToResults = (index, selectedItem) => {\r\n      const filterKey = buttons[index];\r\n\r\n      if (!selectedItem || !filterKey) {\r\n        return;\r\n      }\r\n\r\n      // Navegar para a página de resultados com os parâmetros de filtro\r\n      router.push({\r\n        name: \"SearchPage\",  // Nome da rota da página de resultados\r\n        query: { filterKey, selectedItem }\r\n      }).catch((err) => {\r\n        console.error(\"Erro ao navegar para a rota:\", err);\r\n      });\r\n    };\r\n\r\n    const getVisibleItems = (index) => {\r\n      const start = pages.value[index] * itemsPerPage;\r\n\r\n      // Cria uma cópia dos itens e aplica a formatação nos campos \"Autor\", \"Orientador\" e \"Título\"\r\n      const visibleItems = [...dropdownOptions.value[index]].map(item => {\r\n        if (index === 0) {\r\n          item.text = formatName(item.text, true); // Formatação para autor\r\n        } else if (index === 4) {\r\n          item.text = formatName(item.text, true); // Formatação para orientador\r\n        } else if (index === 1) {\r\n          item.text = item.text.toUpperCase(); // Formatação para título\r\n        }\r\n        return item;\r\n      });\r\n\r\n      return visibleItems.slice(start, start + itemsPerPage);\r\n    };\r\n\r\n    const formatName = (name, isAuthorOrAdvisor = false) => {\r\n      // Função para formatar o nome de autores ou orientadores (por exemplo, sobrenome primeiro)\r\n      if (isAuthorOrAdvisor && name) {\r\n        const nameParts = name.split(' ');\r\n        if (nameParts.length > 1) {\r\n          const lastName = nameParts.pop(); // Sobrenome\r\n          nameParts.unshift(lastName); // Coloca o sobrenome primeiro\r\n        }\r\n        name = nameParts.join(' ');\r\n      }\r\n      return name.toUpperCase();\r\n    };\r\n\r\n    const hasPreviousPage = (index) => pages.value[index] > 0;\r\n    const hasNextPage = (index) => pages.value[index] * itemsPerPage + itemsPerPage < dropdownOptions.value[index].length;\r\n\r\n    const goToPreviousPage = (index) => {\r\n      if (pages.value[index] > 0) pages.value[index]--;\r\n    };\r\n\r\n    const goToNextPage = (index) => {\r\n      if (pages.value[index] * itemsPerPage + itemsPerPage < dropdownOptions.value[index].length) pages.value[index]++;\r\n    };\r\n\r\n    onMounted(async () => {\r\n      try {\r\n        await autorStore.listarAutores();\r\n        autores.value = autorStore.autores;\r\n\r\n        await orientadorStore.listarOrientadores();\r\n        orientadores.value = orientadorStore.orientadores;\r\n\r\n        await obraStore.listarObras();\r\n        obras.value = obraStore.obras;\r\n\r\n        await cursoStore.listarCursos();\r\n        cursos.value = cursoStore.cursos;\r\n\r\n        nextTick(() => updateDropdowns()); // Atualizar dropdowns fora do ciclo de renderização\r\n      } catch (error) {\r\n        console.error(\"Erro ao carregar dados:\", error);\r\n      }\r\n    });\r\n\r\n    return {\r\n      autores,\r\n      orientadores,\r\n      cursos,\r\n      obras,\r\n      dropdownOptions,\r\n      buttons,\r\n      dropdowns,\r\n      toggleDropdown,\r\n      goToResults,\r\n      getVisibleItems,\r\n      hasPreviousPage,\r\n      hasNextPage,\r\n      goToPreviousPage,\r\n      goToNextPage,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.button-container {\r\n  margin-top: 20px;\r\n}\r\n\r\n.filter-button {\r\n  width: 100%;\r\n  background-color: #00420c;\r\n  color: #fff;\r\n  height: 50px;\r\n  text-transform: none;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  padding: 0 16px;\r\n  width: 1000px;\r\n}\r\n\r\n.filter-button:hover {\r\n  background-color: #001a05;\r\n}\r\n\r\n.dropdown-list {\r\n  background: #e0f2f1;\r\n  border-radius: 8px;\r\n  padding: 8px 16px;\r\n  margin-top: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.dropdown-list ul {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.dropdown-item {\r\n  font-size: 14px;\r\n  margin-bottom: 4px;\r\n  color: #004d40;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 8px 12px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background-color: #00420c;\r\n  color: #fff;\r\n}\r\n\r\n.dropdown-item:active {\r\n  background-color: #002a06;\r\n  transform: scale(0.95);\r\n}\r\n\r\n.pagination-buttons {\r\n  margin-top: 12px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.pagination-button {\r\n  margin-top: 10px;\r\n}\r\n\r\n.prev-button {\r\n  background-color: #00420c;\r\n  color: white;\r\n}\r\n\r\n.prev-button:hover {\r\n  background-color: #001a05;\r\n}\r\n\r\n.next-button {\r\n  background-color: #00420c;\r\n  color: white;\r\n}\r\n\r\n.next-button:hover {\r\n  background-color: #001a05;\r\n}\r\n\r\n.item-count {\r\n  font-weight: bold;\r\n  color: #00796b;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}